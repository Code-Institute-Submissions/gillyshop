{% extends 'base.html' %}
{% load static from staticfiles %}
{% load bootstrap_tags %}

  {% block head_css %}
  <link rel="stylesheet" href="{% static 'css/creditcardjs-v0.10.13.min.css' %}">
  {% endblock %}


{% block head_js %}
<script type="text/javascript" src="https://js.stripe.com/v2/"></script>
<script type="text/javascript">
    //<![CDATA[
    Stripe.publishableKey = '{{ publishable }}';
    //]]>
</script>
<script type="text/javascript" src="{% static 'js/stripe.js' %}"></script>
{% endblock %}


{% block page_title %}CHECKOUT - MILLENNIAL PINK{% endblock %}

{% block content %}

<div class="checkcontainer">
  <div class="row orderrow">
    <div class="col-md-12">
    <legend>Order Summary</legend>
    <p>You are purchasing {{ product_count }} products</p>
    <p>Total cost of order: <span style="font-weight:bold">€{{ total }}</span></p>
    </div>
  </div>

  <div class="row">
  <div class="col-md-12">
    <form role="form" method="post" id="payment-form" action="{% url 'checkout' %}">
      <legend>Payment Details</legend>
      <div id="credit-card-errors" style="display:none">
          <div class="alert-message block-message error" id="stripe-error-message"></div>
      </div>
      <div class="form-group col-md-6">
          {{ order_form | as_bootstrap }}
      </div>
      <div class="form-group col-md-6">
        
<div class="ccjs-card">
  <label class="ccjs-number">
    Card Number
    <input name="credit_card_number" class="ccjs-number" placeholder="•••• •••• •••• ••••">
  </label>

  <label class="ccjs-csc">
    Security Code
    <input name="csc" class="ccjs-csc" placeholder="•••">
  </label>

  <button type="button" class="ccjs-csc-help">?</button>

  <label class="ccjs-name">
    Name on Card
    <input name="name" class="ccjs-name">
  </label>

  <fieldset class="ccjs-expiration">
    <legend>Expiration</legend>
    <select name="month" class="ccjs-month">
      <option selected disabled>MM</option>
      <option value="01">01</option>
      <option value="02">02</option>
      <option value="03">03</option>
      <option value="04">04</option>
      <option value="05">05</option>
      <option value="06">06</option>
      <option value="07">07</option>
      <option value="08">08</option>
      <option value="09">09</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>

    <select name="year" class="ccjs-year">
      <option selected disabled>YY</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
      <option value="24">24</option>
      <option value="25">25</option>
      <option value="26">26</option>
      <option value="27">27</option>
      <option value="28">28</option>
      <option value="29">29</option>
      <option value="30">30</option>
    </select>
  </fieldset>

  <select name="card-type" class="ccjs-hidden-card-type">
    <option value="mastercard" class="ccjs-mastercard">MasterCard</option>
    <option value="visa" class="ccjs-visa">Visa</option>
    <option value="laser" class="laser">Laser</option>
    <option value="maestro" class="maestro">Maestro</option>
    <option value="unionpay" class="unionpay">UnionPay</option>
    <option value="visa-electron" class="visa-electron">Visa Electron</option>

  </select>
  
    
  <input type="hidden" name="stripe_id" class="form-control" id="id_stripe_id">
  
</div>        

      </div>

      
      
      
      
      
      {% csrf_token %}
      <div class="col-sm-10">
        <a href ="{% url 'view_cart' %}" class="btn btn-goback" role="button"><span aria-hidden="true"></span><i class="fas fa-arrow-left"></i> Back To Cart</a>
      </div>
      <div class="form-group col-sm-2">
          <input class="btn btn-primary" id="submit_payment_btn" name="commit" type="submit" value="Pay Now">
      </div>
    </form>
  </div>
  </div>
  
</div>
{% endblock %}

{% block endjs %}
<script src="{% static 'js/creditcardjs-v0.10.13.min.js' %}"></script> 
{% endblock %}