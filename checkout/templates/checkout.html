{% extends 'base.html' %}
{% load static from staticfiles %}
{% load bootstrap_tags %}

{% block head_js %}
<link rel="stylesheet" href="{% static 'css/creditcardjs-v0.10.13.min.css' %}">

{% endblock %}

{% block content %}
<div class="checkcontainer">
<!--    <legend><span class="ledge">Payment Details</span><span class="ledger">Order Summary</span></legend>-->
<!--    <div class="col-md-4">-->
<!--<table class="tablecheck table-bordered">-->
   
<!--        <tr>-->
<!--    {% for item in cart_items %}-->
<!--    <td><img class="checkimg" src="{{ MEDIA_URL }}{{ item.product.image }}">{{ item.product.name }}-->
<!--    <td>{{item.quantity}}</td>-->
<!--    <td>€{{ item.product.price }}</td>-->
<!--    </tr>-->
<!--    {% endfor %}-->
        
<!--    <tr>-->
<!--        <td></td>-->
<!--        <td>TOTAL:</td>-->
<!--        <td>€{{ total }}</td>-->
<!--    </tr>-->
  
<!--</table>-->
<!--</div>-->
<!--<div class="row row-flex">-->
<!--    {% for item in cart_items %}-->
    
<!--    <div class="col-xs-10 col-xs-offset-1 col-sm-offset-0 col-sm-6 col-md-4 display panel panel-default">-->
<!--        <div class="panel-body">-->
<!--            <div class="product" style=="background-image: url(' {{ MEDIA_URL }}{{ item.product.image }}')"></div>-->
            
<!--            <div class="caption">-->
<!--                <h3>{{ item.product.name }}</h3>-->
<!--                <p class="product-description">{{ item.product.description }}</p>-->
<!--                <p>{{ item.quantity }}</p>-->
<!--                <p>{{ item.product.price }}</p>-->
<!--            </div>-->
<!--        </div>-->
        
<!--    </div>-->
<!--    {% endfor %}-->
<!--</div>-->
<div class="row">
    <p>Order total:  </p>
    <p>€{{ total }}</p>
</div>
<div class="col-md-8">
<form role="form" method="post" id="payment-form" action="{% url 'checkout' %}">
<legend>Payment Details</legend>
<div id="credit-card-errors" style="display: none">
    <div class="alert-messsage block-message error" id="stripe-error-message"></div>
</div>
<div class="form-group col-md-4">
    {{ order_form|as_bootstrap }}
</div>
<div class="form-group col-md-8">
<div class="ccjs-card">
  <label class="ccjs-number">
    Card Number
    <input name="card-number" class="ccjs-number" placeholder="•••• •••• •••• ••••">
  </label>
  
  <label class="ccjs-name">
    Name on Card
    <input name="name" class="ccjs-name">
  </label>
  <fieldset class="ccjs-expiration">
    <legend>Expiration</legend>
    <select name="month" class="ccjs-month">
      <option selected disabled>MM</option>
      <option value="01">01</option>
      <option value="02">02</option>
      <option value="03">03</option>
      <option value="04">04</option>
      <option value="05">05</option>
      <option value="06">06</option>
      <option value="07">07</option>
      <option value="08">08</option>
      <option value="09">09</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    <select name="year" class="ccjs-year">
      <option selected disabled>YY</option>
      <option value="14">14</option>
      <option value="15">15</option>
      <option value="16">16</option>
      <option value="17">17</option>
      <option value="18">18</option>
      <option value="19">19</option>
      <option value="20">20</option>
      <option value="21">21</option>
      <option value="22">22</option>
      <option value="23">23</option>
      <option value="24">24</option>
    </select>
  </fieldset>
  <select name="card-type" class="ccjs-hidden-card-type">
    <option value="mastercard" class="ccjs-mastercard">MasterCard</option>
    <option value="visa" class="ccjs-visa">Visa</option>
    <option value="laser" class="laser">Laser</option>
    <option value="maestro" class="maestro">Maestro</option>
    <option value="visa-electron" class="visa-electron">Visa Electron</option>
  </select>
</div>
</div>
<!--<div class="form-group col-md-4">-->
<!--    {{ payment_form|as_bootstrap }}-->
<!--</div>-->
<!--</div>-->
<!--  <div class="col-md-4">-->
<!--<table class="tablecheck table-bordered">-->
   
<!--   <tr>-->
<!--       <th>Product</th>-->
<!--       <th></th>-->
<!--       <th>Quantity</th>-->
<!--       <th>Price</th>-->
<!--   </tr>-->
<!--        <tr>-->
<!--    {% for item in cart_items %}-->
<!--    <td><img class="checkimg" src="{{ MEDIA_URL }}{{ item.product.image }}"></td>-->
<!--    <td>{{item.product.name}}</td>-->
<!--    <td>{{item.quantity}}</td>-->
<!--    <td>€{{ item.product.price }}</td>-->
<!--    </tr>-->
<!--    {% endfor %}-->
        
<!--    <tr>-->
<!--        <td></td>-->
<!--        <td></td>-->
<!--        <td>TOTAL:</td>-->
<!--        <td>€{{ total }}</td>-->
<!--    </tr>-->
  
<!--</table>-->
</div>
{% csrf_token %}
<div class="col-sm-10">
      <a href="{% url 'view_cart' %}" class="btn btn-goback" role="button"><span aria-hidden="true"></span><i class="fas fa-arrow-left"></i> Back To Cart</a></div>
<div class="form-group col-sm-2">
    <input class="btn btn-primary" id="submit_payment_btn" name="commit" type="submit" value="Pay Now">
</div>
</form>
</div>
{% endblock %}

{% block endjs %}
<script type="text/javascript" src="{% static 'js/creditcardjs-v0.10.13.min.js' %}"></script>
{% endblock %}
